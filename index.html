<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Text-to-Speech Counter</title>
</head>
<body>
    <h1>‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏õ‡∏•‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á</h1>

    <div>
        <p>üë• ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥: <span id="user-count">{{ users }}</span></p>
        <p>üîÑ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏õ‡∏•‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°: <span id="convert-count">{{ converts }}</span></p>
    </div>

    <button onclick="simulateConvert()">‡πÅ‡∏õ‡∏•‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (‡∏à‡∏≥‡∏•‡∏≠‡∏á)</button>

    <script>
        function simulateConvert() {
            fetch('/convert', {method: 'POST'})
                .then(() => updateCounter());
        }

        function updateCounter() {
            fetch('/counter')
                .then(response => response.json())
                .then(data => {
                    document.getElementById("user-count").innerText = data.users;
                    document.getElementById("convert-count").innerText = data.converts;
                });
        }

        // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ó‡∏∏‡∏Å 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
        setInterval(updateCounter, 5000);
    </script>
</body>
</html>
